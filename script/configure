#!/usr/bin/env ruby

begin
  require 'rubygems'
rescue; end
require 'yaml'

def ask(prompt)
  print "#{prompt}: "
  gets.strip
end

CONFIG_FILE = File.join(ENV['HOME'], ".fmrc")
file = File.open(CONFIG_FILE, "w")

conf = {}

conf["access_key_id"] = ask "aws access key"
conf["secret_access_key"] = ask "aws secret key"
conf["worker_domain"] = ask "sdb worker domain"
conf["profile_domain"] = ask "sdb profile domain"

print "Writing config file (#{CONFIG_FILE})... "
YAML.dump(conf, file)
puts "Done"
